---
layout: post_layout
title: 之前的一些笔记
time: 2019年12月14日 星期六
location: 成都
pulished: true
excerpt_separator: "逻辑芯片"
---

modelsim高电平时显示为X，低电平正常    因为一根线有两个激励源，有一个是低电平，两个不一样就变成X

某些情况下。。。（貌似是特定信号导致多个激励源同时存在，但值一样时候）quartus不会报错，仿真则GG

MSP430调试时突然重启或重刷程序或拔下下载器会导致单片机停止工作，IO口保持前一刻状态，可能导致PWM等出现长高电平/低电平（烧掉控制的管子？）

rigup新版本（0.4.2）只支持1000系列，破解2000系列要用老版本（0.4.0）

逻辑芯片（74ls74）输出波形不平的话带个载试试（后证明效果一般）

msp430dsp库有变量未初始化就使用的bug，自己实现的乘法器操作会和编译器优化产生的乘法器操作产生冲突导致结果出错

msp430f5529的ad蜜汁触发两次才转换一次（设置为两个通道顺序采样，但连续两次触发一次没效果，另一次真正开始转换。按照手册应该是触发一次转换两个通道）最后使用连续转换模式保持持续转换，直接读寄存器得到当前值。。。(可能是超频的副作用？）

nios核的数据总选和指令总线都需要连接到数据存储器和指令存储器上，看起来是哈弗架构，但实际照着哈弗架构两边分别连接时候并不能正常运行。。。

音频音调变换方法：切成20ms左右小片段，fft后压缩/拉长频谱。时间太短会导致声音听起来像合成的声音，过长有回声。

stm32 sdio接sd卡，有时候sd卡自称支持四线sdio，但实际不支持，不用四线时可以正常操作

stm32 usb host时两次Process时间不能太长，否则检测不到。关掉usb库的debug选项可以加快识别，似乎识别率也增加。（printf占时？）

stm32 usb host时dm线对vcc的电阻需要去掉，否则会一直认为有设备插入，但检测不到。（部分开发板设定为只需要做device，所以直接焊了这个电阻。其实可以不接，32内部也可以上拉

stm32 usb host 重启时可以先deinit，然后init。这之后不需要reenum，如果执行了可能反而检测不到设备。

altera的fifo，aclr过后不能马上置位wrreq，否则会一直满，不能写入（手册要求，实际full在aclr后几个时钟周期会为高，如果没有wrreq，会自己降下来，有的话就会锁死

siwave仿真眼图需要特定信号源，没有信号源的话会报错Line ends in the middle of an expression（实际是source_name没有写）

用siwizard仿真时候如果没有设置信号源，只设置了receiver，那么设置时候并不会报错，但在算完了之后报错（崩溃或者Line ends in the middle of an expression）

ad18 如果导入pcb后元件非常分散排成一竖行，是因为有一个元件的体积异常的大

ad18 元件体积异常（选中后阴影非常大或者比实际占用地方大）可能是因为元件里面有看不见的region。打开pcblib list，挨个看，如果选中后看不到有选中的东西，按del删除。全部删掉就能恢复正常。
